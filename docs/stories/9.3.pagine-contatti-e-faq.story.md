---
status: drafted
priority: medium
estimate: S
story_id: "9.3"
epic: "Epic 9 - Vetrina Pubblica e Lead Capture"
---

# Story 9.3: Pagine Contatti e FAQ

**As a** Visitor, **I want** contact and FAQ pages, **so that** I can clarify doubts before submitting a request.

## Acceptance Criteria

### AC-1
_Derived from epic-details AC-1._
**Given** public contact config contains `phone="+39 02 1234 5678"`, `email="info@centrotest.it"`, `openingHours="Lun-Ven 09:00-18:30; Sab 09:00-13:00"`, and `mapPlaceholder="MAP_EMBED_PENDING"`
**When** an anonymous visitor opens `/contatti`
**Then** the page renders a clickable `tel:+390212345678`, a clickable `mailto:info@centrotest.it`, the exact opening-hours string, and a visible map/embed placeholder block

### AC-2
_Derived from epic-details AC-2._
**Given** FAQ public data contains categories `Accettazione` and `Preventivi` with entries `("Quanto dura una diagnosi?", "24-48 ore")` and `("Il preventivo e gratuito?", "Si, salvo guasti non standard")`
**When** an anonymous visitor opens `/faq` and expands the two questions
**Then** the page shows FAQs grouped by category and each expanded item reveals the exact configured answer text

### AC-3
_Derived from epic-details AC-3._
**Given** backoffice/public config is updated from `phone="+39 02 1234 5678"` to `phone="+39 02 7654 3210"` and FAQ answer `Il preventivo e gratuito?` is changed to `Si, sempre`
**When** `/api/public/pages/contatti` and `/api/public/faq` are requested after the update and the visitor reloads `/contatti` and `/faq`
**Then** both pages show the new phone and new FAQ answer without frontend code changes

### AC-4
_Derived from epic-details AC-4._
**Given** the visitor starts on `/` and sees the public navigation links `Servizi`, `FAQ`, and `Contatti`
**When** the visitor clicks `FAQ`, then uses breadcrumb `Home` to return
**Then** navigation remains consistent (`/ -> /faq -> /`), FAQ page shows breadcrumb `Home / FAQ` with title `FAQ`, and home page title is `Riparazioni rapide e trasparenti`

## Target Modules

- `packages/frontend/src/App.tsx`
- `packages/frontend/src/main.tsx`
- `packages/frontend/src/__tests__/public-home-vetrina.atdd.spec.ts`
- `packages/backend/src/routes/public.ts`
- `packages/backend/src/services/anagrafiche-service.ts`
- `packages/backend/src/__tests__/public-services-api.atdd.spec.ts`
- `packages/backend/src/index.ts`

## Task Breakdown

- [ ] Task 1 (AC-1, AC-4): extend public SPA route handling in `packages/frontend/src/main.tsx` and `packages/frontend/src/App.tsx` for `/contatti` and `/faq`, preserving existing home and service-detail navigation behavior.
- [ ] Task 2 (AC-1, AC-3): add/extend public endpoint handler `GET /api/public/pages/:slug` in `packages/backend/src/routes/public.ts`, using existing success/error response helpers and wiring through `packages/backend/src/index.ts`.
- [ ] Task 3 (AC-2, AC-3): add/extend public endpoint handler `GET /api/public/faq` in `packages/backend/src/routes/public.ts` with category-grouped payload from `packages/backend/src/services/anagrafiche-service.ts`.
- [ ] Task 4 (AC-1, AC-2, AC-4): implement contacts page sections (phone/email/hours/map placeholder), FAQ grouped accordion, and breadcrumb/title rendering in `packages/frontend/src/App.tsx` using the same spacing/text hierarchy pattern already used for the public vetrina.
- [ ] Task 5 (AC-1, AC-2, AC-3): implement backend service methods in `packages/backend/src/services/anagrafiche-service.ts` that read contact/FAQ data from public config and return deterministic payload shapes consumed by frontend routes.
- [ ] Task 6 (AC-1, AC-2, AC-3, AC-4): extend ATDD coverage in `packages/backend/src/__tests__/public-services-api.atdd.spec.ts` and `packages/frontend/src/__tests__/public-home-vetrina.atdd.spec.ts` for contacts/FAQ rendering, config refresh behavior, and home->FAQ->home navigation consistency.
